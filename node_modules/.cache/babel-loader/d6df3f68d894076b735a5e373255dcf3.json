{"ast":null,"code":"import _toConsumableArray from\"D:/repos/bilsem/bilsemquizgame/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _objectSpread from\"D:/repos/bilsem/bilsemquizgame/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"D:/repos/bilsem/bilsemquizgame/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import\"./App.css\";import React from\"react\";import{useEffect,useState,useMemo}from\"react\";import{Questionnaire}from\"./components\";import Timer from\"./components/Timer\";import Change from\"./components/Change\";import Start from\"./components/Start\";import Timesup from\"./components/Timesup\";import DoubleTime from\"./components/DoubleTime\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function App(){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),userName=_useState2[0],setUserName=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),questions=_useState4[0],setQuestions=_useState4[1];var _useState5=useState(0),_useState6=_slicedToArray(_useState5,2),currIndex=_useState6[0],setCurrIndex=_useState6[1];var _useState7=useState(1),_useState8=_slicedToArray(_useState7,2),questionNumber=_useState8[0],setQuestionNumber=_useState8[1];var _useState9=useState(0),_useState10=_slicedToArray(_useState9,2),earn=_useState10[0],setEarn=_useState10[1];var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),gameOver=_useState12[0],setGameOver=_useState12[1];var _useState13=useState(false),_useState14=_slicedToArray(_useState13,2),timeOut=_useState14[0],setTimeOut=_useState14[1];var _useState15=useState(30),_useState16=_slicedToArray(_useState15,2),timer=_useState16[0],setTimer=_useState16[1];var _useState17=useState(false),_useState18=_slicedToArray(_useState17,2),doubleTimeUsed=_useState18[0],setDoubleTimeUsed=_useState18[1];var _useState19=useState(false),_useState20=_slicedToArray(_useState19,2),changeUsed=_useState20[0],setChangeUsed=_useState20[1];// Yeni state: Veri kaynağını takip eder\nvar _useState21=useState(\"./data.json\"),_useState22=_slicedToArray(_useState21,2),dataSource=_useState22[0],setDataSource=_useState22[1];var moneyPyramid=useMemo(function(){return[{id:1,amount:100},{id:2,amount:200},{id:3,amount:300},{id:4,amount:500},{id:5,amount:1000},{id:6,amount:2000},{id:7,amount:4000},{id:8,amount:8000},{id:9,amount:16000},{id:10,amount:32000}].reverse();},[]);// Veri kaynağını yükler\nuseEffect(function(){fetch(dataSource).then(function(res){return res.json();}).then(function(data){var questions=data.results.map(function(question){return _objectSpread(_objectSpread({},question),{},{answers:[question.correct_answer].concat(_toConsumableArray(question.incorrect_answers)).sort(function(){return Math.random()-0.5;})});});setQuestions(questions);});},[dataSource]);var handleAnswer=function handleAnswer(answer){if(answer===questions[currIndex].correct_answer){setEarn(moneyPyramid[10-questionNumber].amount+earn);}handleNextQuestion(true);};var handleNextQuestion=function handleNextQuestion(changeQuestion){if(questionNumber===10){setGameOver(true);}if(changeQuestion){setQuestionNumber(questionNumber+1);}setCurrIndex(currIndex+1);};// Veri kaynağını değiştirir\nvar toggleDataSource=function toggleDataSource(){setDataSource(function(prevSource){return prevSource===\"./data.json\"?\"./data1.json\":\"./data.json\";});};return!userName?/*#__PURE__*/_jsxs(\"div\",{className:\"startScreen\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"title\",children:\"Tasarrufu Biliyorum Oyununa Ho\\u015Fgeldiniz\"}),/*#__PURE__*/_jsx(Start,{setUsername:setUserName}),/*#__PURE__*/_jsx(\"footer\",{children:/*#__PURE__*/_jsx(\"p\",{className:\"copyRight\",children:\"K\\xFC\\xE7\\xFCk\\xE7ekmece Bilsem\"})})]}):questions.length>0?/*#__PURE__*/_jsx(\"div\",{className:\"app vh-100\",children:/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"main col-9\",children:gameOver?/*#__PURE__*/_jsxs(\"h1\",{children:[\"Oyun Bitti! \",/*#__PURE__*/_jsx(\"br\",{}),\" \",/*#__PURE__*/_jsx(\"span\",{className:\"big\",children:userName}),\" \\u2605\",\" \",earn,\" puan kazand\\u0131n\\u0131z!\"]}):timeOut?/*#__PURE__*/_jsx(Timesup,{userName:userName,setTimeOut:setTimeOut,timeOut:timeOut,setGameOver:setGameOver,questionNumber:questionNumber,handleNextQuestion:handleNextQuestion}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"top\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"timer\",children:/*#__PURE__*/_jsx(Timer,{setTimeOut:setTimeOut,questionNumber:questionNumber,timer:timer,setTimer:setTimer,changeUsed:changeUsed})}),/*#__PURE__*/_jsx(\"button\",{onClick:toggleDataSource,style:{backgroundColor:'darkgreen',color:'white'},children:\"Sorular\\u0131 De\\u011Fi\\u015Ftir\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"bottom\",children:/*#__PURE__*/_jsx(Questionnaire,{data:questions[currIndex],handleAnswer:handleAnswer,setTimeOut:setTimeout})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"pyramid col-3\",children:/*#__PURE__*/_jsx(\"div\",{className:\"moneyList vh-100\",children:moneyPyramid.map(function(m,idx){return/*#__PURE__*/_jsxs(\"div\",{className:questionNumber===m.id?\"moneyListItem active row\":\"moneyListItem row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"moneyListItemNumber col-3 d-flex align-items-center\",children:m.id}),/*#__PURE__*/_jsxs(\"div\",{className:\"moneyListItemAmount col-9 d-flex align-items-center\",children:[\"\\u2605 \",m.amount]})]},idx);})})})]})}):/*#__PURE__*/_jsx(\"h2\",{className:\"big\",children:\"Loading...\"});}export default App;","map":{"version":3,"sources":["D:/repos/bilsem/bilsemquizgame/src/App.js"],"names":["React","useEffect","useState","useMemo","Questionnaire","Timer","Change","Start","Timesup","DoubleTime","App","userName","setUserName","questions","setQuestions","currIndex","setCurrIndex","questionNumber","setQuestionNumber","earn","setEarn","gameOver","setGameOver","timeOut","setTimeOut","timer","setTimer","doubleTimeUsed","setDoubleTimeUsed","changeUsed","setChangeUsed","dataSource","setDataSource","moneyPyramid","id","amount","reverse","fetch","then","res","json","data","results","map","question","answers","correct_answer","incorrect_answers","sort","Math","random","handleAnswer","answer","handleNextQuestion","changeQuestion","toggleDataSource","prevSource","length","backgroundColor","color","setTimeout","m","idx"],"mappings":"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","sourcesContent":["import \"./App.css\";\nimport React from \"react\";\nimport { useEffect, useState, useMemo } from \"react\";\nimport { Questionnaire } from \"./components\";\n\nimport Timer from \"./components/Timer\";\nimport Change from \"./components/Change\";\nimport Start from \"./components/Start\";\nimport Timesup from \"./components/Timesup\";\nimport DoubleTime from \"./components/DoubleTime\";\n\nfunction App() {\n    const [userName, setUserName] = useState(null);\n    const [questions, setQuestions] = useState([]);\n    const [currIndex, setCurrIndex] = useState(0);\n    const [questionNumber, setQuestionNumber] = useState(1);\n    const [earn, setEarn] = useState(0);\n    const [gameOver, setGameOver] = useState(false);\n    const [timeOut, setTimeOut] = useState(false);\n    const [timer, setTimer] = useState(30);\n    const [doubleTimeUsed, setDoubleTimeUsed] = useState(false);\n    const [changeUsed, setChangeUsed] = useState(false);\n\n    // Yeni state: Veri kaynağını takip eder\n    const [dataSource, setDataSource] = useState(\"./data.json\");\n\n    const moneyPyramid = useMemo(\n        () =>\n            [\n                { id: 1, amount: 100 },\n                { id: 2, amount: 200 },\n                { id: 3, amount: 300 },\n                { id: 4, amount: 500 },\n                { id: 5, amount: 1000 },\n                { id: 6, amount: 2000 },\n                { id: 7, amount: 4000 },\n                { id: 8, amount: 8000 },\n                { id: 9, amount: 16000 },\n                { id: 10, amount: 32000 },\n            ].reverse(),\n        []\n    );\n\n    // Veri kaynağını yükler\n    useEffect(() => {\n        fetch(dataSource)\n            .then((res) => res.json())\n            .then((data) => {\n                const questions = data.results.map((question) => ({\n                    ...question,\n                    answers: [\n                        question.correct_answer,\n                        ...question.incorrect_answers,\n                    ].sort(() => Math.random() - 0.5),\n                }));\n                setQuestions(questions);\n            });\n    }, [dataSource]);\n\n    const handleAnswer = (answer) => {\n        if (answer === questions[currIndex].correct_answer) {\n            setEarn(moneyPyramid[10 - questionNumber].amount + earn);\n        }\n        handleNextQuestion(true);\n    };\n\n    const handleNextQuestion = (changeQuestion) => {\n        if (questionNumber === 10) {\n            setGameOver(true);\n        }\n        if (changeQuestion) {\n            setQuestionNumber(questionNumber + 1);\n        }\n        setCurrIndex(currIndex + 1);\n    };\n\n    // Veri kaynağını değiştirir\n    const toggleDataSource = () => {\n        setDataSource((prevSource) =>\n            prevSource === \"./data.json\" ? \"./data1.json\" : \"./data.json\"\n        );\n    };\n\n    return !userName ? (\n        <div className=\"startScreen\">\n            <div className=\"title\">Tasarrufu Biliyorum Oyununa Hoşgeldiniz</div>\n            <Start setUsername={setUserName} />\n            <footer>\n                <p className=\"copyRight\">Küçükçekmece Bilsem</p>\n            </footer>\n        </div>\n    ) : questions.length > 0 ? (\n        <div className=\"app vh-100\">\n            <>\n                <div className=\"main col-9\">\n                    {gameOver ? (\n                        <h1>\n                            Oyun Bitti! <br /> <span className=\"big\">{userName}</span> ★{\" \"}\n                            {earn} puan kazandınız!\n                        </h1>\n                    ) : timeOut ? (\n                        <Timesup\n                            userName={userName}\n                            setTimeOut={setTimeOut}\n                            timeOut={timeOut}\n                            setGameOver={setGameOver}\n                            questionNumber={questionNumber}\n                            handleNextQuestion={handleNextQuestion}\n                        />\n                    ) : (\n                        <>\n                            <div className=\"top\">\n                                <div className=\"timer\">\n                                    <Timer\n                                        setTimeOut={setTimeOut}\n                                        questionNumber={questionNumber}\n                                        timer={timer}\n                                        setTimer={setTimer}\n                                        changeUsed={changeUsed}\n                                    />\n                                </div>\n\n                                {/* Veri kaynağını değiştirme butonu */}\n                                <button onClick={toggleDataSource}\n                                        style={{backgroundColor: 'darkgreen', color: 'white'}}>\n                                      Soruları Değiştir\n                                </button>\n                            </div>\n                            <div className=\"bottom\">\n                                <Questionnaire\n                                    data={questions[currIndex]}\n                                    handleAnswer={handleAnswer}\n                                    setTimeOut={setTimeout}\n                                />\n                            </div>\n                        </>\n                    )}\n                </div>\n                <div className=\"pyramid col-3\">\n                    <div className=\"moneyList vh-100\">\n                        {moneyPyramid.map((m, idx) => (\n                            <div\n                                className={\n                                    questionNumber === m.id\n                                        ? \"moneyListItem active row\"\n                                        : \"moneyListItem row\"\n                                }\n                                key={idx}\n                            >\n                                <div className=\"moneyListItemNumber col-3 d-flex align-items-center\">\n                                    {m.id}\n                                </div>\n                                <div className=\"moneyListItemAmount col-9 d-flex align-items-center\">\n                                    ★ {m.amount}\n                                </div>\n                            </div>\n                        ))}\n                    </div>\n                </div>\n            </>\n        </div>\n    ) : (\n        <h2 className=\"big\">Loading...</h2>\n    );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}